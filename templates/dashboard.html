{% extends "base.html" %}

{% block title %}
GameByte
{% endblock %}

{% block body %}
<div id="particle">
    
    <div  style="margin-top: 40px;position:absolute; padding: 5px;">
        <div class="row">
            <div class="col-md-12">
                
                <h1>Welcome back {{user.first_name}} {{user.last_name}}</h1>
                How's your coding practice going?
                <br><br><br>
                    
                
            </div>
        </div>
        <div class="row">
            <div class="col-md-4" >
                <h1>Ready to solve a problem?</h1>
                <a class="btn btn-warning" href="problems">See All Problems</a>
            </div>

            <div class="col-md-8" style="background: rgba(252,223,24, .5); border-radius: 5px;">
                <!-- <div class="container " style="margin-top: 40px;"> -->
                    <h1>Your submissions</h1>
                
                <br>
                <table class="table table-dark table-responsive" style="border-radius: 5px;">
                    <thead >
                      <tr>
                        <th scope="col">User Email</th>
                        <th scope="col">Name</th>
                        <th scope="col">Problem</th>
                        <th scope="col">Submission Time</th>
                        <th scope="col">Language Used</th>
                        <th scope="col">Score</th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <tbody>
                        {% if submissions|length > 0 %}
                        {% for submission in submissions %}
                        <tr >
                            <td>
                                {{submission.user_id.email}}
                            </td>
                            <td>
                                {{submission.user_id.first_name}} {{submission.user_id.last_name}}
                            </td>
                            <td>
                                {{submission.problem_id.title}}
                            </td>
                            <td>
                                {{submission.submission_time}}
                            </td>
                            <td>
                                {{submission.submission_language}}
                            </td>
                            <td>
                                {{submission.submission_score}}
                            </td>
            
                            <td>
                                <a href="downloadCode/{{submission.id}}" class="btn btn-primary">Download Code</a>
                                
                            </td>
                            <td>
                                <a href="runCode/{{submission.id}}" class="btn btn-success">Run Code</a>
                            </td>
                        </tr>
                            
                            
                     
                    {% endfor %}
                    {% else %}
                    <tr>
                        <td colspan="7">No Submissions</td>
                    </tr>
                    {% endif %}
                    </tbody>
                  </table>
                    
            
            
                
            </div>
        </div>
    </div>

    

</div>

{% endblock %}